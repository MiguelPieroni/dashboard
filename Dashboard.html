<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Ventas</title>
    <link rel="stylesheet" href="CargaVentas.css">
    <link rel="stylesheet" href="Dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" type="image/jpg" href="./Fotos/favicon.png"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/airbnb.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/es.js"></script>
</head>
<body>
    <div class="app-wrapper">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="logo-container">
                <h2>Panel Control</h2>
                <button id="toggle-sidebar" class="toggle-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <span id="username-display">Usuario</span>
            </div>
            <nav class="nav-menu">
                <!-- Navigation items -->
                <a href="index.html" class="nav-item">
                    <i class="fas fa-home"></i>
                    <span>Inicio</span>
                </a>
                <a href="Concatenar.html" class="nav-item">
                    <i class="fas fa-file-excel"></i>
                    <span>Concatenador SKUs</span>
                </a>
                <a href="masaMadre.html" class="nav-item">
                    <i class="fas fa-bread-slice"></i>
                    <span>Masa Madre</span>
                </a>
                 </a>
                <a href="#" class="nav-item">
                <i class="fas fa-dragon"></i>
                <span>Stock Dragon</span>
                </a>
                <a href="dividirarchivos.html" class="nav-item">
                    <i class="fa-solid fa-file-excel"></i>
                    <span>Dividir Excel</span>
                </a>
                <a href="CargaVentas.html" class="nav-item">
                    <i class="fas fa-cash-register"></i>
                    <span>Carga de Ventas</span>
                </a>
                <a href="Dashboard.html" class="nav-item active">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-chart-bar"></i>
                    <span>Estadísticas</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <button id="logout-btn" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Cerrar Sesión</span>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="main-content">
            <div class="header">
                <h1>Dashboard de Ventas</h1>
                <p class="subtitle">Análisis y métricas de ventas</p>
            </div>

            <!-- Filtros -->
            <!-- Reemplaza la sección actual de filtros con esto -->
<!-- Filtros -->
<div class="filters-section">
    <div class="filters-grid">
        <!-- Fecha Desde -->
        <div class="filter-group">
            <label>Desde:</label>
            <div class="date-input-wrapper">
                <input type="text" id="dateFrom1" class="custom-date-input flatpickr-input" placeholder="Seleccionar fecha">
                <i class="fas fa-calendar"></i>
            </div>
        </div>

        <!-- Fecha Hasta -->
        <div class="filter-group">
            <label>Hasta:</label>
            <div class="date-input-wrapper">
                <input type="text" id="dateTo1" class="custom-date-input flatpickr-input" placeholder="Seleccionar fecha">
                <i class="fas fa-calendar"></i>
            </div>
        </div>

        <!-- Razón Social -->
        <div class="filter-group">
            <label>Razón Social:</label>
            <div class="select-wrapper">
                <select id="razonSocial" class="custom-select">
                    <option value="all">Todas</option>
                    <option value="Factory">Factory</option>
                    <option value="Fortaleza">Fortaleza</option>
                </select>
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>

        <!-- Tienda -->
        <div class="filter-group">
            <label>Tienda:</label>
            <div class="select-wrapper">
                <select id="tienda" class="custom-select">
                    <option value="all">Todas</option>
                </select>
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
    </div>

    <!-- Botones de acción -->
    <div class="filter-actions">
        <button id="aplicarFiltros" class="filter-btn">
            <i class="fas fa-filter"></i> Aplicar Filtros
        </button>
        <button id="generarReporte" class="report-btn">
            <i class="fas fa-file-pdf"></i> Generar Reporte
        </button>
    </div>
</div>

<!-- Después de los filtros actuales -->
<div class="quick-reports">
    <h3>Reportes Rápidos</h3>
    <div class="quick-reports-grid">
        <!-- Factory -->
        <div class="report-group">
            <h4>Factory</h4>
            <button class="quick-report-btn" data-razon="Factory" data-tienda="Seven">
                <i class="fas fa-file-pdf"></i> Seven
            </button>
            <button class="quick-report-btn" data-razon="Factory" data-tienda="Seven Meli">
                <i class="fas fa-file-pdf"></i> Seven Meli
            </button>
            <button class="quick-report-btn" data-razon="Factory" data-tienda="Seven Bapro">
                <i class="fas fa-file-pdf"></i> Seven Bapro
            </button>
        </div>
        <!-- Fortaleza -->
        <div class="report-group">
            <h4>Fortaleza</h4>
            <button class="quick-report-btn" data-razon="Fortaleza" data-tienda="Chelsea">
                <i class="fas fa-file-pdf"></i> Chelsea
            </button>
            <button class="quick-report-btn" data-razon="Fortaleza" data-tienda="Chelsea Meli">
                <i class="fas fa-file-pdf"></i> Chelsea Meli
            </button>
            <button class="quick-report-btn" data-razon="Fortaleza" data-tienda="Chelsea Bapro">
                <i class="fas fa-file-pdf"></i> Chelsea Bapro
            </button>
        </div>
    </div>
</div>

            <div class="dashboard-wrapper">
                <!-- KPIs -->
                <div id="resumenNumerico" class="resumen-container">
                    <!-- Se llenará dinámicamente -->
                </div>

                <!-- Gráficos -->
                <div class="charts-grid">
                    <div class="chart-card wide">
                        <h3>Tendencia de Ventas</h3>
                        <div class="chart-container">
                            <canvas id="graficoTendencias"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3>Top 10 Marcas</h3>
                        <div class="chart-container">
                            <canvas id="graficoMarcas"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3>Distribución por Categorías</h3>
                        <div class="chart-container">
                            <canvas id="graficoCategorias"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3>Rango de Edades</h3>
                        <div class="chart-container">
                            <canvas id="graficoEdades"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <h3>Horarios de Compra</h3>
                        <div class="chart-container">
                            <canvas id="graficoHorarios"></canvas>
                        </div>
                    </div>
                    <div class="chart-card wide">
                        <h3>Análisis de Logística</h3>
                        <div class="chart-container">
                            <canvas id="graficoMejoresCompradores"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Rendimiento por Marketplace</h3>
                        <div class="chart-container">
                            <canvas id="graficoMarketplace"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Tendencia de Compra</h3>
                        <div class="chart-container">
                            <canvas id="graficoTendenciaCompra"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-left">
                    <p class="copyright">© 2024 - Desarrollado por <span class="author">Miguel Pieroni</span></p>
                </div>
                <div class="footer-right">
                    <div class="footer-links">
                        <a href="#" target="_blank">Contacto</a>
                        <a href="#" target="_blank">Documentación</a>
                        <a href="#" target="_blank">Versión 1.0.0</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="dashboard-ventas.js"></script>
    <script src="utils.js"></script>
</body>
</html>